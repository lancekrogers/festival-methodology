Template Variables (Save Tokens)
================================

Pass variables to 'fest create' commands to generate pre-filled documents.
This eliminates post-creation editing and saves significant tokens.

FESTIVAL VARIABLES
------------------

  fest create festival \
    --name "auth-system" \
    --goal "Build OAuth 2.0 authentication" \
    --json

  Variables available in templates:
    {{ festival_name }}        → "auth-system"
    {{ festival_goal }}        → "Build OAuth 2.0 authentication"

PHASE VARIABLES
---------------

  fest create phase \
    --name "IMPLEMENT" \
    --json

  Auto-formatting: "implement" → "002_IMPLEMENT"

  Variables available:
    {{ phase_name }}           → "IMPLEMENT"
    {{ phase_number }}         → 2
    {{ phase_id }}             → "002_IMPLEMENT" (auto-computed)

SEQUENCE VARIABLES
------------------

  fest create sequence \
    --name "api endpoints" \
    --json

  Auto-formatting: "api endpoints" → "01_api_endpoints"

  Variables available:
    {{ sequence_name }}        → "api_endpoints"
    {{ sequence_number }}      → 1
    {{ sequence_id }}          → "01_api_endpoints" (auto-computed)
    {{ parent_phase_id }}      → "002_IMPLEMENT" (auto-computed)

TASK VARIABLES
--------------

  fest create task \
    --name "login endpoint" \
    --json

  Auto-formatting: "login endpoint" → "01_login_endpoint.md"

  Variables available:
    {{ task_name }}            → "login_endpoint"
    {{ task_number }}          → 1
    {{ task_id }}              → "01_login_endpoint.md" (auto-computed)
    {{ parent_sequence_id }}   → "01_api_endpoints" (auto-computed)
    {{ parent_phase_id }}      → "002_IMPLEMENT" (auto-computed)
    {{ full_path }}            → "002_IMPLEMENT/01_api_endpoints/01_login_endpoint.md"

AUTO-COMPUTED VARIABLES
-----------------------

The template engine auto-computes these (no input needed):

  • phase_id           → "002_IMPLEMENT" (from number + name)
  • sequence_id        → "01_api_endpoints" (from number + name)
  • task_id            → "01_login_endpoint.md" (from number + name)
  • parent_phase_id    → Current phase context
  • parent_sequence_id → Current sequence context
  • full_path          → Complete path from festival root

TOKEN SAVINGS
-------------

  Manual approach:
    1. Read template file            (~200 tokens)
    2. Understand template format    (~100 tokens)
    3. Write file with edits         (~200 tokens)
    Total: ~500 tokens per file

  CLI approach:
    fest create task --name "X" --json
    Total: ~50 tokens per file

  Savings: 90% token reduction per file

EXAMPLE: Full Festival Creation
-------------------------------

  # Create festival with goal
  fest create festival --name "user-auth" --goal "OAuth 2.0 system" --json

  # Create planning phase
  fest create phase --name "PLAN" --json

  # Create requirements sequence
  fest create sequence --name "requirements" --json

  # Create tasks
  fest create task --name "gather requirements" --json
  fest create task --name "document specs" --json

  # Add quality gates to all implementation sequences
  fest task defaults sync --approve --json

All generated files are pre-filled with correct structure and variables.
